# NeuroCAN-Bridge
Программно-аппаратный комплекс получает данные по CAN-шине с датчиков и использует эти данные для прогнозирования технического состояния транспорта с помощью нейронных сетей.
Данный комплекс является продолжением бакалаврской выпускной квалификационной работы и предназначен для внедрения на транспортные средства для определения остаточного технического ресурса. В теории, он может быть модифицирован путем изменения модели нейронных сетей для определения иных погазателей, например, определения места возникновения отказа, что сокращает трудоемкость диагностирования.
Комплекс состоит из двух частей: программной и аппаратной.

Программное обеспечение включает:
  - transmitter.h - прошивка эмулятора датчиков, который генерирует данные в шину данных CAN;
  - reciver_client.h - прошивка приемника, который принимает данные и передает их на сервер для дальнейшей обработки нейронной сетью;
  - nn.py - модуль для нейронных сетей, в нем представлен как основная нейронная сеть, так и прототип "жидкой" нейронной сети;
  - server_main.exe - модуль для запуска локального сервера.
    
Аппаратные средства:
  - ESP32 - для передачи данных на сервер;
  - MCP2515+TJA1050 - CAN-контроллер для взаимодействия с CAN-шиной;
  - Сервер - для обработки поступаемых данных.

# Установка и настройка
## Установка
Для установки достаточно скачать данный архив и разархивировать его. 

## Настройка
Для установления соединения с маршрутизатором в файле reciver_client.h редуктируются переменные:
  - ssid - название сети;
  - password - пароль для сети;
  - serverUrl - URL сервера.
Для точной настройки шины CAN можно изменить следующие переменные в файлах reciver_client.h и transmitter.h:
  - CAN_bitrate - скорость передачи данных по шине CAN;
  - CAN_ID - идентификатор принимаемых и отправляемых фреймов CAN.
После настроек программного обеспечения файлы для прошивки микроконтроллеров используются файлы reciver_client.h и transmitter.h.

## Запуск
1. Запуск сервера через server_main.exe.
2. Запуск микроконтроллера с прошивкой приемника.
3. Запуск микроконтроллера эмулятора.

# Устройство системы
Датчик снимает данные и отправляет их в микроконтролер. Микроконтроллер может как задать управляющий сигнал на актуатор, так и отправить данные на микроконтроллер-приемник для передачи на сервер через CAN-шину, либо и то и другой. После чего микроконтроллер-приемник передает по сети Интернет данные на удаленный сервер, на котором установленно программное обеспечение для обработки (запись в БД / прогнозирование технического состояния / и тд).
